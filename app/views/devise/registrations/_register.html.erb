  <h3>Voter Registration</h3>
  <%= semantic_form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f| %>
    <% if @forward_url.present? %>
      <input type="hidden" name="forward_url" type="hidden" value="<%= @forward_url %>" />
    <% end %>

    <%# I wish I didn't have to do this build here but doing it in the
        registrations controller doesn't seem to work %>
    <% resource.registrations.build unless resource.registrations.present? %>
    <%= f.inputs :for => :registrations do |registration_form| %>
      <%= render :partial => "devise/registrations/registration_fields", :locals => {:f => registration_form} %>
    <% end %>

    <%= f.inputs do %>
      <%= f.input :email %>
      <%= f.input :password %>
      <%= f.input :password_confirmation %>
    <% end %>
    <%= f.buttons do %>
      <%= f.commit_button "Submit Voter Registration" %>
    <% end %>
  <% end %>

  <%= render "links" %>

